{"remainingRequest":"/home/kd/Desktop/jpc/node_modules/babel-loader/lib/index.js!/home/kd/Desktop/jpc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/kd/Desktop/jpc/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kd/Desktop/jpc/src/components/PlaidLink.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kd/Desktop/jpc/src/components/PlaidLink.vue","mtime":1678879380362},{"path":"/home/kd/Desktop/jpc/.babelrc","mtime":1678816068548},{"path":"/home/kd/Desktop/jpc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kd/Desktop/jpc/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/kd/Desktop/jpc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kd/Desktop/jpc/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQbGFpZExpbmsiLAogIHByb3BzOiB7CiAgICBwbGFpZFVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJodHRwczovL2Nkbi5wbGFpZC5jb20vbGluay92Mi9zdGFibGUvbGluay1pbml0aWFsaXplLmpzIgogICAgfSwKICAgIGVudjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJzYW5kYm94IgogICAgfSwKICAgIGluc3RpdHV0aW9uOiBTdHJpbmcsCiAgICBzZWxlY3RBY2NvdW50OiBCb29sZWFuLAogICAgdG9rZW46IFN0cmluZywKICAgIHByb2R1Y3Q6IHsKICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gWyJ0cmFuc2FjdGlvbnMiXTsKICAgICAgfQogICAgfSwKICAgIHJlY2VpdmVkUmVkaXJlY3RVcmk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgbGFuZ3VhZ2U6IFN0cmluZywKICAgIGNvdW50cnlDb2RlczogQXJyYXksCiAgICBpc1dlYlZpZXc6IEJvb2xlYW4sCiAgICBjbGllbnROYW1lOiBTdHJpbmcsCiAgICBwdWJsaWNLZXk6IFN0cmluZywKICAgIHdlYmhvb2s6IFN0cmluZywKICAgIG9uTG9hZDogRnVuY3Rpb24sCiAgICBvblN1Y2Nlc3M6IEZ1bmN0aW9uLAogICAgb25FeGl0OiBGdW5jdGlvbiwKICAgIG9uRXZlbnQ6IEZ1bmN0aW9uCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkU2NyaXB0KHRoaXMucGxhaWRVcmwpLnRoZW4odGhpcy5vblNjcmlwdExvYWRlZCkuY2F0Y2godGhpcy5vblNjcmlwdEVycm9yKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAod2luZG93LmxpbmtIYW5kbGVyKSB7CiAgICAgIHdpbmRvdy5saW5rSGFuZGxlci5leGl0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNjcmlwdEVycm9yOiBmdW5jdGlvbiBvblNjcmlwdEVycm9yKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgY29uc29sZS5sb2codGhpcy5wdWJsaWNLZXkpOwogICAgICBjb25zb2xlLmVycm9yKCJUaGVyZSB3YXMgYW4gaXNzdWUgbG9hZGluZyB0aGUgbGluay1pbml0aWFsaXplLmpzIHNjcmlwdCIpOwogICAgfSwKICAgIG9uU2NyaXB0TG9hZGVkOiBmdW5jdGlvbiBvblNjcmlwdExvYWRlZCgpIHsKICAgICAgdmFyIHByb3BzID0gewogICAgICAgIGNsaWVudE5hbWU6IHRoaXMuY2xpZW50TmFtZSwKICAgICAgICBlbnY6IHRoaXMuZW52LAogICAgICAgIGtleTogdGhpcy5wdWJsaWNLZXksCiAgICAgICAgb25FeGl0OiB0aGlzLm9uRXhpdCwKICAgICAgICBvbkV2ZW50OiB0aGlzLm9uRXZlbnQsCiAgICAgICAgb25TdWNjZXNzOiB0aGlzLm9uU3VjY2VzcywKICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsCiAgICAgICAgc2VsZWN0QWNjb3VudDogdGhpcy5zZWxlY3RBY2NvdW50LAogICAgICAgIHRva2VuOiB0aGlzLnRva2VuLAogICAgICAgIHdlYmhvb2s6IHRoaXMud2ViaG9vawogICAgICB9OwogICAgICBpZiAodGhpcy5yZWNlaXZlZFJlZGlyZWN0VXJpKSB7CiAgICAgICAgcHJvcHMucmVjZWl2ZWRSZWRpcmVjdFVyaSA9IHRoaXMucmVjZWl2ZWRSZWRpcmVjdFVyaTsKICAgICAgfQogICAgICB3aW5kb3cubGlua0hhbmRsZXIgPSB3aW5kb3cuUGxhaWQuY3JlYXRlKHByb3BzKTsKICAgICAgdGhpcy4kZW1pdCgicGxhaWRMb2FkZWQiKTsKICAgICAgLy8gdGhpcy5vbkxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVPbkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVPbkNsaWNrKCkgewogICAgICB2YXIgaW5zdGl0dXRpb24gPSB0aGlzLmluc3RpdHV0aW9uIHx8IG51bGw7CiAgICAgIGlmICh3aW5kb3cubGlua0hhbmRsZXIpIHsKICAgICAgICB3aW5kb3cubGlua0hhbmRsZXIub3BlbihpbnN0aXR1dGlvbik7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkU2NyaXB0OiBmdW5jdGlvbiBsb2FkU2NyaXB0KHNyYykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjPSInICsgc3JjICsgJyJdJykpIHsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgZWwudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogICAgICAgIGVsLmFzeW5jID0gdHJ1ZTsKICAgICAgICBlbC5zcmMgPSBzcmM7CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHJlc29sdmUpOwogICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgcmVqZWN0KTsKICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsIHJlamVjdCk7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRwcm9wczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGlmIChuZXdWYWwudG9rZW4pIHsKICAgICAgICAgIHRoaXMub25TY3JpcHRMb2FkZWQoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["name","props","plaidUrl","type","String","default","env","institution","selectAccount","Boolean","token","product","Array","_default","receivedRedirectUri","language","countryCodes","isWebView","clientName","publicKey","webhook","onLoad","Function","onSuccess","onExit","onEvent","created","loadScript","then","onScriptLoaded","catch","onScriptError","beforeDestroy","window","linkHandler","exit","methods","error","console","log","key","Plaid","create","$emit","handleOnClick","open","src","Promise","resolve","reject","document","querySelector","el","createElement","async","addEventListener","head","appendChild","watch","$props","handler","newVal","deep"],"sources":["src/components/PlaidLink.vue"],"sourcesContent":["<template>\n  <div class=\"plaid-link-wrapper\">\n    <slot name=\"button\" v-bind:onClick=\"handleOnClick\">\n      <button class=\"plaid-link-button\" @click=\"handleOnClick\">\n        <slot />\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"PlaidLink\",\n  props: {\n    plaidUrl: {\n      type: String,\n      default: \"https://cdn.plaid.com/link/v2/stable/link-initialize.js\",\n    },\n    env: {\n      type: String,\n      default: \"sandbox\",\n    },\n    institution: String,\n    selectAccount: Boolean,\n    token: String,\n    product: {\n      type: [String, Array],\n      default: function () {\n        return [\"transactions\"];\n      },\n    },\n    receivedRedirectUri: {\n      type: String,\n      default: null,\n    },\n    language: String,\n    countryCodes: Array,\n    isWebView: Boolean,\n    clientName: String,\n    publicKey: String,\n    webhook: String,\n    onLoad: Function,\n    onSuccess: Function,\n    onExit: Function,\n    onEvent: Function,\n  },\n  created() {\n    this.loadScript(this.plaidUrl)\n      .then(this.onScriptLoaded)\n      .catch(this.onScriptError);\n  },\n  beforeDestroy() {\n    if (window.linkHandler) {\n      window.linkHandler.exit();\n    }\n  },\n  methods: {\n    onScriptError(error) {\n      console.log(error)\n      console.log(this.publicKey)\n      console.error(\"There was an issue loading the link-initialize.js script\");\n    },\n    onScriptLoaded() {\n      let props = {\n        clientName: this.clientName,\n        env: this.env,\n        key: this.publicKey,\n        onExit: this.onExit,\n        onEvent: this.onEvent,\n        onSuccess: this.onSuccess,\n        product: this.product,\n        selectAccount: this.selectAccount,\n        token: this.token,\n        webhook: this.webhook,\n      };\n      if (this.receivedRedirectUri) {\n        props.receivedRedirectUri = this.receivedRedirectUri;\n      }\n      window.linkHandler = window.Plaid.create(props);\n      this.$emit(\"plaidLoaded\");\n      // this.onLoad();\n    },\n    handleOnClick() {\n      const institution = this.institution || null;\n      if (window.linkHandler) {\n        window.linkHandler.open(institution);\n      }\n    },\n    loadScript(src) {\n      return new Promise(function (resolve, reject) {\n        if (document.querySelector('script[src=\"' + src + '\"]')) {\n          resolve();\n          return;\n        }\n        const el = document.createElement(\"script\");\n        el.type = \"text/javascript\";\n        el.async = true;\n        el.src = src;\n        el.addEventListener(\"load\", resolve);\n        el.addEventListener(\"error\", reject);\n        el.addEventListener(\"abort\", reject);\n        document.head.appendChild(el);\n      });\n    },\n  },\n  watch: {\n    $props: {\n      handler(newVal) {\n        if (newVal.token) {\n          this.onScriptLoaded();\n        }\n      },\n      deep: true,\n    },\n  },\n};\n</script>"],"mappings":"AAWA;EACAA,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,GAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAE,WAAA,EAAAH,MAAA;IACAI,aAAA,EAAAC,OAAA;IACAC,KAAA,EAAAN,MAAA;IACAO,OAAA;MACAR,IAAA,GAAAC,MAAA,EAAAQ,KAAA;MACAP,OAAA,WAAAQ,SAAA;QACA;MACA;IACA;IACAC,mBAAA;MACAX,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAU,QAAA,EAAAX,MAAA;IACAY,YAAA,EAAAJ,KAAA;IACAK,SAAA,EAAAR,OAAA;IACAS,UAAA,EAAAd,MAAA;IACAe,SAAA,EAAAf,MAAA;IACAgB,OAAA,EAAAhB,MAAA;IACAiB,MAAA,EAAAC,QAAA;IACAC,SAAA,EAAAD,QAAA;IACAE,MAAA,EAAAF,QAAA;IACAG,OAAA,EAAAH;EACA;EACAI,OAAA,WAAAA,QAAA;IACA,KAAAC,UAAA,MAAAzB,QAAA,EACA0B,IAAA,MAAAC,cAAA,EACAC,KAAA,MAAAC,aAAA;EACA;EACAC,aAAA,WAAAA,cAAA;IACA,IAAAC,MAAA,CAAAC,WAAA;MACAD,MAAA,CAAAC,WAAA,CAAAC,IAAA;IACA;EACA;EACAC,OAAA;IACAL,aAAA,WAAAA,cAAAM,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACAC,OAAA,CAAAC,GAAA,MAAApB,SAAA;MACAmB,OAAA,CAAAD,KAAA;IACA;IACAR,cAAA,WAAAA,eAAA;MACA,IAAA5B,KAAA;QACAiB,UAAA,OAAAA,UAAA;QACAZ,GAAA,OAAAA,GAAA;QACAkC,GAAA,OAAArB,SAAA;QACAK,MAAA,OAAAA,MAAA;QACAC,OAAA,OAAAA,OAAA;QACAF,SAAA,OAAAA,SAAA;QACAZ,OAAA,OAAAA,OAAA;QACAH,aAAA,OAAAA,aAAA;QACAE,KAAA,OAAAA,KAAA;QACAU,OAAA,OAAAA;MACA;MACA,SAAAN,mBAAA;QACAb,KAAA,CAAAa,mBAAA,QAAAA,mBAAA;MACA;MACAmB,MAAA,CAAAC,WAAA,GAAAD,MAAA,CAAAQ,KAAA,CAAAC,MAAA,CAAAzC,KAAA;MACA,KAAA0C,KAAA;MACA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,IAAArC,WAAA,QAAAA,WAAA;MACA,IAAA0B,MAAA,CAAAC,WAAA;QACAD,MAAA,CAAAC,WAAA,CAAAW,IAAA,CAAAtC,WAAA;MACA;IACA;IACAoB,UAAA,WAAAA,WAAAmB,GAAA;MACA,WAAAC,OAAA,WAAAC,OAAA,EAAAC,MAAA;QACA,IAAAC,QAAA,CAAAC,aAAA,kBAAAL,GAAA;UACAE,OAAA;UACA;QACA;QACA,IAAAI,EAAA,GAAAF,QAAA,CAAAG,aAAA;QACAD,EAAA,CAAAjD,IAAA;QACAiD,EAAA,CAAAE,KAAA;QACAF,EAAA,CAAAN,GAAA,GAAAA,GAAA;QACAM,EAAA,CAAAG,gBAAA,SAAAP,OAAA;QACAI,EAAA,CAAAG,gBAAA,UAAAN,MAAA;QACAG,EAAA,CAAAG,gBAAA,UAAAN,MAAA;QACAC,QAAA,CAAAM,IAAA,CAAAC,WAAA,CAAAL,EAAA;MACA;IACA;EACA;EACAM,KAAA;IACAC,MAAA;MACAC,OAAA,WAAAA,QAAAC,MAAA;QACA,IAAAA,MAAA,CAAAnD,KAAA;UACA,KAAAmB,cAAA;QACA;MACA;MACAiC,IAAA;IACA;EACA;AACA"}]}